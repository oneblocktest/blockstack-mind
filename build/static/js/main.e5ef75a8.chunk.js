(this.webpackJsonpmycharts=this.webpackJsonpmycharts||[]).push([[0],{1154:function(e,t,n){},1156:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(18),i=n.n(o),c=(n(479),n(39)),l=n(40),s=n(50),m=n(49),u=n(51),d=n(133),p=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.handleSignIn;return r.a.createElement("div",{className:"panel-landing",id:"section-1"},r.a.createElement("h1",{className:"landing-heading"},"Hello,mychart!"),r.a.createElement("p",{className:"lead"},r.a.createElement("button",{className:"btn btn-primary btn-lg",id:"signin-button",onClick:e.bind(this)},"Sign In with Blockstack")))}}]),t}(a.Component),b=n(15),g=n(424),h=n(431),f=n(432),v=n(439),O=n(137),E=n(7),j=n.n(E);n(1154);function k(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(Object(b.n)("openfile")),onClick:function(t){var n=e.diagram,a=n.getDiagramProps().controller;Object(b.k)(".json,.blinkmind,.bm").then((function(e){var t=JSON.parse(e),r=a.run("deserializeModel",{controller:a,obj:t});n.openNewModel(r)}))}})}var y=n(77),N=n(4),C=n(1158);function S(e){var t=[[N.e.LEFT_AND_RIGHT,"Left And Right","layout-left-and-right"],[N.e.LEFT_TO_RIGHT,"Only Right","layout-right"],[N.e.RIGHT_TO_LEFT,"Only Left","layout-left"]];return r.a.createElement("div",{className:j()("bm-toolbar-item",Object(b.n)("layout-left-and-right"))},r.a.createElement(C.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(C.n,null,t.map((function(t){return r.a.createElement(C.p,{key:t[1],icon:Object(b.e)(t[2]),text:t[1],onClick:(n=t[0],function(t){var a=e.diagram.getDiagramProps();a.controller.run("setLayoutDir",Object(y.a)({},a,{layoutDir:n}))})});var n})))))}var w=n(434),T=n.n(w),D=n(435),R=n.n(D),I=n(436),U=n.n(I),P=n(437),x=n.n(P),M=n(438),_=n.n(M);function F(e){var t=[["default",T.a],["theme1",R.a],["theme2",U.a],["theme3",x.a],["theme4",_.a]];return r.a.createElement("div",{className:j()("bm-toolbar-item",Object(b.n)("theme"))},r.a.createElement(C.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement("div",{className:"bm-popover-theme"},t.map((function(t){return r.a.createElement("div",{key:t[0],className:"bm-theme-item",onClick:(n=t[0],function(t){var a=e.diagram.getDiagramProps();a.controller.run("setTheme",Object(y.a)({},a,{themeKey:n}))})},r.a.createElement("img",{className:"bm-theme-img",src:t[1],alt:t[0]}));var n})))))}function L(e){return r.a.createElement("div",{className:j()("bm-toolbar-item",Object(b.n)("export"))},r.a.createElement(C.s,{enforceFocus:!1},r.a.createElement("div",{className:"bm-toolbar-popover-target"}),r.a.createElement(C.n,null,r.a.createElement(C.p,{text:"JSON(.json)",onClick:function(t){var n=e.diagram.getDiagramProps(),a=n.controller,r=n.model,o=a.run("serializeModel",n),i=JSON.stringify(o),c="data:text/plain,".concat(encodeURIComponent(i)),l=a.run("getTopicTitle",Object(y.a)({},n,{topicKey:r.rootTopicKey}));!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.click()}(c,"".concat(l,".blinkmind"))}}),r.a.createElement(C.o,null))))}function A(e){return r.a.createElement("div",{className:"bm-toolbar-item ".concat(Object(b.n)(b.f.SEARCH)),onClick:function(t){var n=e.diagram.getDiagramProps();n.controller.run("operation",Object(y.a)({},n,{opType:N.i.SET_FOCUS_MODE,focusMode:O.a}))}})}var H=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClickUndo,n=e.onClickRedo,a=e.canUndo,o=e.canRedo;return r.a.createElement("div",{className:"bm-toolbar"},r.a.createElement(k,e),r.a.createElement(L,e),r.a.createElement(F,e),r.a.createElement(S,e),r.a.createElement(A,e),r.a.createElement("div",{className:j()("bm-toolbar-item",Object(b.n)("undo"),{"bm-toolbar-item-disabled":!a}),onClick:t}),r.a.createElement("div",{className:j()("bm-toolbar-item",Object(b.n)("redo"),{"bm-toolbar-item-disabled":!o}),onClick:n}))}}]),t}(r.a.PureComponent),J=(n(1155),n(22)),K=(n.n(J)()("app"),[Object(g.a)(),Object(f.a)(),Object(O.c)(),Object(O.b)(),Object(v.a)(),Object(h.a)()]),z=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).diagramRef=function(e){n.diagram=e,n.setState({})},n.onClickUndo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("undo",t)},n.onClickRedo=function(e){var t=n.diagram.getDiagramProps();t.controller.run("redo",t)},n.onChange=function(e,t){n.setState({model:e},t)},n.initModel(),n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"initModel",value:function(){var e=function(){var e=Object(N.n)();return N.g.create({rootTopicKey:e,topics:[{key:e,blocks:[{type:"CONTENT",data:"MainTopic"}]}]})}();this.state={model:e}}},{key:"renderDiagram",value:function(){return r.a.createElement(b.c,{ref:this.diagramRef,model:this.state.model,onChange:this.onChange,plugins:K})}},{key:"renderToolbar",value:function(){var e=this.diagram.getDiagramProps(),t=e.controller,n=t.run("canUndo",e),a=t.run("canRedo",e),o={diagram:this.diagram,onClickUndo:this.onClickUndo,onClickRedo:this.onClickRedo,canUndo:n,canRedo:a};return r.a.createElement(H,o)}},{key:"render",value:function(){return r.a.createElement("div",{className:"mindmap"},this.diagram&&this.renderToolbar(),this.renderDiagram())}}]),t}(r.a.Component),B=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={person:{name:function(){return"Anonymous"}}},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleSignOut,n=e.userSession,a=this.state.person;return n.isSignInPending()?null:r.a.createElement("div",{className:"panel-welcome",id:"section-2"},r.a.createElement("div",{className:"avatar-section"},r.a.createElement("img",{src:a.avatarUrl()?a.avatarUrl():"https://s3.amazonaws.com/onename/avatar-placeholder.png",className:"img-rounded avatar",id:"avatar-image",alt:""}),r.a.createElement("h1",null," ",r.a.createElement("span",{id:"heading-name"},a.name()?a.name():"Nameless Person"),"\u7684\u601d\u7ef4\u8111\u56fe")),r.a.createElement(z,{userSession:n}),r.a.createElement("p",{className:"lead"},r.a.createElement("button",{className:"btn btn-primary btn-lg",id:"signout-button",onClick:t.bind(this)},"Logout")))}},{key:"componentWillMount",value:function(){var e=this.props.userSession;this.setState({person:new d.Person(e.loadUserData().profile)})}}]),t}(a.Component),G=new d.AppConfig,W=new d.UserSession({appConfig:G}),$=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"handleSignIn",value:function(e){e.preventDefault(),W.redirectToSignIn()}},{key:"handleSignOut",value:function(e){e.preventDefault(),W.signUserOut(window.location.origin)}},{key:"render",value:function(){return r.a.createElement("div",{className:"site-wrapper"},r.a.createElement("div",{className:"site-wrapper-inner"},W.isUserSignedIn()?r.a.createElement(B,{userSession:W,handleSignOut:this.handleSignOut}):r.a.createElement(p,{userSession:W,handleSignIn:this.handleSignIn})))}},{key:"componentDidMount",value:function(){var e=this;W.isSignInPending()&&W.handlePendingSignIn().then((function(t){window.history.replaceState({},document.title,"/"),e.setState({userData:t})}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},196:function(e,t){},434:function(e,t,n){e.exports=n.p+"static/media/default.4f8c4983.jpg"},435:function(e,t,n){e.exports=n.p+"static/media/theme1.2f59f00b.jpg"},436:function(e,t,n){e.exports=n.p+"static/media/theme2.b18193fb.jpg"},437:function(e,t,n){e.exports=n.p+"static/media/theme3.61c97910.jpg"},438:function(e,t,n){e.exports=n.p+"static/media/theme4.1e21408c.jpg"},474:function(e,t,n){e.exports=n(1156)},479:function(e,t,n){},492:function(e,t){},494:function(e,t){},511:function(e,t){},513:function(e,t){},590:function(e,t){},597:function(e,t){}},[[474,1,2]]]);
//# sourceMappingURL=main.e5ef75a8.chunk.js.map